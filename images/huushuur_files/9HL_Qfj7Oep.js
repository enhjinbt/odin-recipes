;/*FB_PKG_DELIM*/

__d("DirectReshareButtonTapFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2065");b=d("FalcoLoggerInternal").create("direct_reshare_button_tap",a);e=b;g["default"]=e}),98);
__d("PolarisShareMediaButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisShareMediaButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisShareMenuDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7517613864959560"}),null);
__d("PolarisShareMenuDialogQuery$Parameters",["PolarisShareMenuDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisShareMenuDialogQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisShareMenuDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisShareMenuDialog.entrypoint",["JSResourceForInteraction","PolarisShareMenuDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("PolarisShareMenuDialogQuery$Parameters"),variables:{media_id:a.routeProps.mediaId}}}}},root:c("JSResourceForInteraction")("PolarisShareMenuDialog.react").__setRef("PolarisShareMenuDialog.entrypoint")};g["default"]=a}),98);
__d("getPolarisPostType.next.react",["PolarisMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a===d("PolarisMediaConstants").MediaTypes.VIDEO)return"video";return a===d("PolarisMediaConstants").MediaTypes.CAROUSEL_V2?"sidecar":"photo"}g.getPolarisPostType=a}),98);
__d("PolarisShareMediaButton.react",["fbt","CometPlaceholder.react","CometPressable.react","CometRelay","DirectReshareButtonTapFalcoEvent","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSDialogLegacy.react","IGDSDirectPanoOutlineIcon.react","IGDSSpinner.react","InstagramODS","JSResourceForInteraction","PolarisContainerModuleUtils","PolarisInformTreatmentDialogRootEntrypoint.entrypoint","PolarisInformTreatmentSensitivityType","PolarisIsLoggedIn","PolarisNavChain","PolarisPostModalContext.react","PolarisShareMediaButton_media.graphql","PolarisShareMenuDialog.entrypoint","PolarisUA","QPLUserFlow","deferredLoadComponent","getPolarisPostType.next.react","gkx","polarisLogAction","qpl","react","react-compiler-runtime","requireDeferredForDisplay","useIGDSEntryPointDialog","useIGDSLazyDialog","useIGDSecureShareSheetInteractionLogger","usePolarisAnalyticsContext","useSimpleImpression","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;e.useMemo;var l=e.useState,m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGWebBloksApp").__setRef("PolarisShareMediaButton.react")),n=c("JSResourceForInteraction")("PolarisInformTreatmentSensitivityDetailsDialog.react").__setRef("PolarisShareMediaButton.react"),o={primaryIconButton:{":hover_opacity":"x1mywscw",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(4);a=a.color;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__dCpyyTpkyrM__JHASH__"),b[0]=e):e=b[0];var f=a==="ig-stroke-on-media";b[1]!==a||b[2]!==f?(e=k.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:e,color:a,shadow:f,size:24}),b[1]=a,b[2]=f,b[3]=e):e=b[3];return e}function a(a){var e=d("react-compiler-runtime").c(57),f=a.color,g=a.media,h=a.surface;a=a.xstyle;f=f===void 0?"ig-primary-icon":f;var j=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisShareMediaButton_media.graphql"),g),r=c("usePolarisAnalyticsContext")(),s=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),t=d("PolarisPostModalContext.react").useSetPostModal();g=l(!1);var u=g[0],v=g[1];g=j.sharing_friction_info;var w=g==null?void 0:g.bloks_app_url,x=w!=null&&(g==null?void 0:g.should_have_sharing_friction)===!0;e[0]!==h?(g=function(){d("PolarisUA").isDesktop()&&h==="feed"&&c("InstagramODS").incr("web.feed.share_button.test.impression")},e[0]=h,e[1]=g):g=e[1];g=c("useSimpleImpression")(g);var y;e[2]!==r||e[3]!==s?(y=function(a){s("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:r})},e[2]=r,e[3]=s,e[4]=y):y=e[4];var z=y;y=j.pk;var A;e[5]!==y?(A={media_id:y},e[5]=y,e[6]=A):A=e[6];y=c("useIGDSEntryPointDialog")(c("PolarisInformTreatmentDialogRootEntrypoint.entrypoint"),A);var B=y[0];A=c("useIGDSLazyDialog")(n);var C=A[0];e[7]!==r||e[8]!==j.id||e[9]!==j.inventory_source||e[10]!==j.logging_info_token||e[11]!==j.media_type||e[12]!==z||e[13]!==t||e[14]!==x?(y=function(a){var b;c("polarisLogAction")("shareClick",{source:r,type:d("getPolarisPostType.next.react").getPolarisPostType((b=j.media_type)!=null?b:0)});c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{string:{source:r}}});if(!x)if(!d("PolarisIsLoggedIn").isLoggedIn())t("share");else{var e=c("uuidv4")();z(e);a(e);c("DirectReshareButtonTapFalcoEvent").log(function(){var a;return{inventory_source:j.inventory_source,m_pk:j.id,nav_chain:(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(r),ranking_info_token:j.logging_info_token,share_sheet_session_id:e}})}else v(!0)},e[7]=r,e[8]=j.id,e[9]=j.inventory_source,e[10]=j.logging_info_token,e[11]=j.media_type,e[12]=z,e[13]=t,e[14]=x,e[15]=y):y=e[15];var D=y;e[16]!==r||e[17]!==j.pk?(A={media_id:j.pk,module:r},e[16]=r,e[17]=j.pk,e[18]=A):A=e[18];y=A;var E=y;e[19]===Symbol["for"]("react.memo_cache_sentinel")?(A={},e[19]=A):A=e[19];e[20]!==j.pk?(y={routeParams:A,routeProps:{mediaId:j.pk}},e[20]=j.pk,e[21]=y):y=e[21];A=c("useIGDSEntryPointDialog")(c("PolarisShareMenuDialog.entrypoint"),y,void 0,q);var F=A[0];A=(j==null?void 0:(y=j.user)==null?void 0:y.is_private)!==!0&&j.can_viewer_reshare===!0;if(A===!1)return null;y=f==="ig-primary-icon"&&o.primaryIconButton;e[22]!==y||e[23]!==a?(A=[y,a],e[22]=y,e[23]=a,e[24]=A):A=e[24];y=A;e[25]!==w||e[26]!==E||e[27]!==j.pk||e[28]!==z||e[29]!==x||e[30]!==u?(a=function(a){return!x?null:u&&w!=null&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(m,{appId:w,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){v(!1);var b=c("uuidv4")();z(b);a(b)},onResumeStoryPlayback:function(){v(!1)}},params:E},j.pk)})},e[25]=w,e[26]=E,e[27]=j.pk,e[28]=z,e[29]=x,e[30]=u,e[31]=a):a=e[31];A=a;e[32]!==F?(a=function(a){F({flowInstanceId:a})},e[32]=F,e[33]=a):a=e[33];var G=a;e[34]!==w||e[35]!==D||e[36]!==G||e[37]!==B||e[38]!==C?(a=function(){D(G);if(w!=null)bb94:switch(w){case"com.instagram.misinformation.sharing_friction.action":B({canShare:!0,shareDialog:G(c("uuidv4")())});break bb94;case"com.instagram.sharing_friction.generic_reshare_friction.action":C({canShare:!0,sensitivityType:d("PolarisInformTreatmentSensitivityType").SensitivityType.SENSITIVE,shareDialog:function(){G(c("uuidv4")())}});break bb94;default:}},e[34]=w,e[35]=D,e[36]=G,e[37]=B,e[38]=C,e[39]=a):a=e[39];a=a;var H=c("gkx")("5268"),I;e[40]!==a||e[41]!==D||e[42]!==G?(I=H?a:function(){return D(G)},e[40]=a,e[41]=D,e[42]=G,e[43]=I):I=e[43];a=I;e[44]!==f?(I=k.jsx(p,{color:f}),e[44]=f,e[45]=I):I=e[45];e[46]!==a||e[47]!==y||e[48]!==g||e[49]!==I?(f=k.jsx(c("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onPress:a,overlayPressedStyle:null,ref:g,xstyle:y,children:I}),e[46]=a,e[47]=y,e[48]=g,e[49]=I,e[50]=f):f=e[50];e[51]!==G||e[52]!==A?(a=H?null:A(G),e[51]=G,e[52]=A,e[53]=a):a=e[53];e[54]!==f||e[55]!==a?(y=k.jsxs(k.Fragment,{children:[f,a]}),e[54]=f,e[55]=a,e[56]=y):y=e[56];return y}function q(){return k.jsx(c("IGDSDialogLegacy.react"),{fixedWidth:!0,size:d("PolarisUA").isMobile()?"fullscreen":"large",children:k.jsx(c("IGDSBox.react"),{alignItems:"center",height:d("PolarisUA").isMobile()?"100vh":545,justifyContent:"center",width:"100%",children:k.jsx(c("IGDSSpinner.react"),{})})})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),226);